d0a22bfd7f8cd3c1360c9c43c3e4da69
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const amount_1 = __importDefault(require("@backoffice/accounts/domain/amount"));
const saveBalanceCommand_1 = __importDefault(require("@backoffice/accounts/application/save/saveBalanceCommand"));
const accountId_1 = __importDefault(require("@backoffice/accounts/domain/accountId"));
class SaveBalanceCommandHandler {
    constructor(updater) {
        this.saver = updater;
    }
    subscribedTo() {
        return saveBalanceCommand_1.default;
    }
    async handle(command) {
        const accountId = new accountId_1.default(command.accountId), amount = new amount_1.default(command.amount);
        await this.saver.run(accountId, amount);
    }
}
exports.default = SaveBalanceCommandHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvb3B0aXZhbWVkaWEvRG9jdW1lbnRzL1BlcnNvbmFsL2JhbmstYWNjb3VudC1tYW5hZ2VyL3NlcnZlci9jb250ZXh0cy9iYWNrb2ZmaWNlL2FjY291bnRzL2FwcGxpY2F0aW9uL3NhdmUvc2F2ZUJhbGFuY2VDb21tYW5kSGFuZGxlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUlBLGdGQUF3RDtBQUN4RCxrSEFBMEY7QUFDMUYsc0ZBQThEO0FBRTlELE1BQXFCLHlCQUF5QjtJQUcxQyxZQUFZLE9BQXFCO1FBQzdCLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxZQUFZO1FBQ1IsT0FBTyw0QkFBa0IsQ0FBQztJQUM5QixDQUFDO0lBRUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUEyQjtRQUNwQyxNQUFNLFNBQVMsR0FBRyxJQUFJLG1CQUFTLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUM5QyxNQUFNLEdBQUcsSUFBSSxnQkFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV4QyxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUM1QyxDQUFDO0NBQ0o7QUFqQkQsNENBaUJDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL29wdGl2YW1lZGlhL0RvY3VtZW50cy9QZXJzb25hbC9iYW5rLWFjY291bnQtbWFuYWdlci9zZXJ2ZXIvY29udGV4dHMvYmFja29mZmljZS9hY2NvdW50cy9hcHBsaWNhdGlvbi9zYXZlL3NhdmVCYWxhbmNlQ29tbWFuZEhhbmRsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuaW1wb3J0IEJhbGFuY2VTYXZlciBmcm9tICdAYmFja29mZmljZS9hY2NvdW50cy9hcHBsaWNhdGlvbi9zYXZlL2JhbGFuY2VTYXZlcic7XG5pbXBvcnQgQ29tbWFuZCBmcm9tICdAc2hhcmVkL2RvbWFpbi9idXMvY29tbWFuZC9jb21tYW5kJztcbmltcG9ydCB7IENvbW1hbmRIYW5kbGVyIH0gZnJvbSAnQHNoYXJlZC9kb21haW4vYnVzL2NvbW1hbmQvY29tbWFuZEhhbmRsZXInO1xuaW1wb3J0IEFtb3VudCBmcm9tICdAYmFja29mZmljZS9hY2NvdW50cy9kb21haW4vYW1vdW50JztcbmltcG9ydCBTYXZlQmFsYW5jZUNvbW1hbmQgZnJvbSAnQGJhY2tvZmZpY2UvYWNjb3VudHMvYXBwbGljYXRpb24vc2F2ZS9zYXZlQmFsYW5jZUNvbW1hbmQnO1xuaW1wb3J0IEFjY291bnRJZCBmcm9tICdAYmFja29mZmljZS9hY2NvdW50cy9kb21haW4vYWNjb3VudElkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2F2ZUJhbGFuY2VDb21tYW5kSGFuZGxlciBpbXBsZW1lbnRzIENvbW1hbmRIYW5kbGVyPFNhdmVCYWxhbmNlQ29tbWFuZD4ge1xuICAgIHByaXZhdGUgc2F2ZXI6IEJhbGFuY2VTYXZlcjtcblxuICAgIGNvbnN0cnVjdG9yKHVwZGF0ZXI6IEJhbGFuY2VTYXZlcikge1xuICAgICAgICB0aGlzLnNhdmVyID0gdXBkYXRlcjtcbiAgICB9XG5cbiAgICBzdWJzY3JpYmVkVG8oKTogQ29tbWFuZCB7XG4gICAgICAgIHJldHVybiBTYXZlQmFsYW5jZUNvbW1hbmQ7XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlKGNvbW1hbmQ6IFNhdmVCYWxhbmNlQ29tbWFuZCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBhY2NvdW50SWQgPSBuZXcgQWNjb3VudElkKGNvbW1hbmQuYWNjb3VudElkKSxcbiAgICAgICAgICAgIGFtb3VudCA9IG5ldyBBbW91bnQoY29tbWFuZC5hbW91bnQpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZXIucnVuKGFjY291bnRJZCwgYW1vdW50KTtcbiAgICB9XG59XG4iXSwidmVyc2lvbiI6M30=