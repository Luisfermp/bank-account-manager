f44c8a6b848dc1332f999911b07631b8
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const amount_1 = __importDefault(require("@backoffice/accounts/domain/amount"));
const saveBalanceCommand_1 = __importDefault(require("@backoffice/accounts/application/save/saveBalanceCommand"));
const accountId_1 = __importDefault(require("@backoffice/accounts/domain/accountId"));
class SaveBalanceCommandHandler {
    constructor(updater) {
        this.updater = updater;
    }
    subscribedTo() {
        return saveBalanceCommand_1.default;
    }
    async handle(command) {
        const accountId = new accountId_1.default(command.accountId), amount = new amount_1.default(command.amount);
        await this.updater.run(accountId, amount);
    }
}
exports.default = SaveBalanceCommandHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvb3B0aXZhbWVkaWEvRG9jdW1lbnRzL1BlcnNvbmFsL2JhbmstYWNjb3VudC1tYW5hZ2VyL3NlcnZlci9jb250ZXh0cy9iYWNrb2ZmaWNlL2FjY291bnRzL2FwcGxpY2F0aW9uL3NhdmUvc2F2ZUJhbGFuY2VDb21tYW5kSGFuZGxlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUlBLGdGQUF3RDtBQUN4RCxrSEFBMEY7QUFDMUYsc0ZBQThEO0FBRTlELE1BQXFCLHlCQUF5QjtJQUcxQyxZQUFZLE9BQXFCO1FBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFFRCxZQUFZO1FBQ1IsT0FBTyw0QkFBa0IsQ0FBQztJQUM5QixDQUFDO0lBRUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUEyQjtRQUNwQyxNQUFNLFNBQVMsR0FBRyxJQUFJLG1CQUFTLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUM5QyxNQUFNLEdBQUcsSUFBSSxnQkFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV4QyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUM5QyxDQUFDO0NBQ0o7QUFqQkQsNENBaUJDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL29wdGl2YW1lZGlhL0RvY3VtZW50cy9QZXJzb25hbC9iYW5rLWFjY291bnQtbWFuYWdlci9zZXJ2ZXIvY29udGV4dHMvYmFja29mZmljZS9hY2NvdW50cy9hcHBsaWNhdGlvbi9zYXZlL3NhdmVCYWxhbmNlQ29tbWFuZEhhbmRsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuaW1wb3J0IEJhbGFuY2VTYXZlciBmcm9tICdAYmFja29mZmljZS9hY2NvdW50cy9hcHBsaWNhdGlvbi9zYXZlL2JhbGFuY2VTYXZlcic7XG5pbXBvcnQgQ29tbWFuZCBmcm9tICdAc2hhcmVkL2RvbWFpbi9idXMvY29tbWFuZC9jb21tYW5kJztcbmltcG9ydCB7IENvbW1hbmRIYW5kbGVyIH0gZnJvbSAnQHNoYXJlZC9kb21haW4vYnVzL2NvbW1hbmQvY29tbWFuZEhhbmRsZXInO1xuaW1wb3J0IEFtb3VudCBmcm9tICdAYmFja29mZmljZS9hY2NvdW50cy9kb21haW4vYW1vdW50JztcbmltcG9ydCBTYXZlQmFsYW5jZUNvbW1hbmQgZnJvbSAnQGJhY2tvZmZpY2UvYWNjb3VudHMvYXBwbGljYXRpb24vc2F2ZS9zYXZlQmFsYW5jZUNvbW1hbmQnO1xuaW1wb3J0IEFjY291bnRJZCBmcm9tICdAYmFja29mZmljZS9hY2NvdW50cy9kb21haW4vYWNjb3VudElkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2F2ZUJhbGFuY2VDb21tYW5kSGFuZGxlciBpbXBsZW1lbnRzIENvbW1hbmRIYW5kbGVyPFNhdmVCYWxhbmNlQ29tbWFuZD4ge1xuICAgIHByaXZhdGUgdXBkYXRlcjogQmFsYW5jZVNhdmVyO1xuXG4gICAgY29uc3RydWN0b3IodXBkYXRlcjogQmFsYW5jZVNhdmVyKSB7XG4gICAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXI7XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlZFRvKCk6IENvbW1hbmQge1xuICAgICAgICByZXR1cm4gU2F2ZUJhbGFuY2VDb21tYW5kO1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZShjb21tYW5kOiBTYXZlQmFsYW5jZUNvbW1hbmQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYWNjb3VudElkID0gbmV3IEFjY291bnRJZChjb21tYW5kLmFjY291bnRJZCksXG4gICAgICAgICAgICBhbW91bnQgPSBuZXcgQW1vdW50KGNvbW1hbmQuYW1vdW50KTtcblxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZXIucnVuKGFjY291bnRJZCwgYW1vdW50KTtcbiAgICB9XG59XG4iXSwidmVyc2lvbiI6M30=