d9c7f40dc8eebc4a870689fccd49c736
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const amount_1 = __importDefault(require("@backoffice/accounts/domain/amount"));
const updateBalanceCommand_1 = __importDefault(require("@backoffice/accounts/application/update/updateBalanceCommand"));
const accountId_1 = __importDefault(require("@backoffice/accounts/domain/accountId"));
class UpdateBalanceCommandHandler {
    constructor(updater) {
        this.updater = updater;
    }
    subscribedTo() {
        return updateBalanceCommand_1.default;
    }
    async handle(command) {
        const accountId = new accountId_1.default(command.accountId), amount = new amount_1.default(command.amount);
        await this.updater.run(accountId, amount);
    }
}
exports.default = UpdateBalanceCommandHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvb3B0aXZhbWVkaWEvRG9jdW1lbnRzL1BlcnNvbmFsL2JhbmstYWNjb3VudC1tYW5hZ2VyL3NlcnZlci9jb250ZXh0cy9iYWNrb2ZmaWNlL2FjY291bnRzL2FwcGxpY2F0aW9uL3VwZGF0ZS91cGRhdGVCYWxhbmNlQ29tbWFuZEhhbmRsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFJQSxnRkFBd0Q7QUFDeEQsd0hBQWdHO0FBQ2hHLHNGQUE4RDtBQUU5RCxNQUFxQiwyQkFBMkI7SUFHNUMsWUFBWSxPQUF1QjtRQUMvQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMzQixDQUFDO0lBRUQsWUFBWTtRQUNSLE9BQU8sOEJBQW9CLENBQUM7SUFDaEMsQ0FBQztJQUVELEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBNkI7UUFDdEMsTUFBTSxTQUFTLEdBQUcsSUFBSSxtQkFBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFDOUMsTUFBTSxHQUFHLElBQUksZ0JBQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFeEMsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDOUMsQ0FBQztDQUNKO0FBakJELDhDQWlCQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9vcHRpdmFtZWRpYS9Eb2N1bWVudHMvUGVyc29uYWwvYmFuay1hY2NvdW50LW1hbmFnZXIvc2VydmVyL2NvbnRleHRzL2JhY2tvZmZpY2UvYWNjb3VudHMvYXBwbGljYXRpb24vdXBkYXRlL3VwZGF0ZUJhbGFuY2VDb21tYW5kSGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5pbXBvcnQgQmFsYW5jZVVwZGF0ZXIgZnJvbSAnQGJhY2tvZmZpY2UvYWNjb3VudHMvYXBwbGljYXRpb24vdXBkYXRlL2JhbGFuY2VVcGRhdGVyJztcbmltcG9ydCBDb21tYW5kIGZyb20gJ0BzaGFyZWQvZG9tYWluL2J1cy9jb21tYW5kL2NvbW1hbmQnO1xuaW1wb3J0IHsgQ29tbWFuZEhhbmRsZXIgfSBmcm9tICdAc2hhcmVkL2RvbWFpbi9idXMvY29tbWFuZC9jb21tYW5kSGFuZGxlcic7XG5pbXBvcnQgQW1vdW50IGZyb20gJ0BiYWNrb2ZmaWNlL2FjY291bnRzL2RvbWFpbi9hbW91bnQnO1xuaW1wb3J0IFVwZGF0ZUJhbGFuY2VDb21tYW5kIGZyb20gJ0BiYWNrb2ZmaWNlL2FjY291bnRzL2FwcGxpY2F0aW9uL3VwZGF0ZS91cGRhdGVCYWxhbmNlQ29tbWFuZCc7XG5pbXBvcnQgQWNjb3VudElkIGZyb20gJ0BiYWNrb2ZmaWNlL2FjY291bnRzL2RvbWFpbi9hY2NvdW50SWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcGRhdGVCYWxhbmNlQ29tbWFuZEhhbmRsZXIgaW1wbGVtZW50cyBDb21tYW5kSGFuZGxlcjxVcGRhdGVCYWxhbmNlQ29tbWFuZD4ge1xuICAgIHByaXZhdGUgdXBkYXRlcjogQmFsYW5jZVVwZGF0ZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih1cGRhdGVyOiBCYWxhbmNlVXBkYXRlcikge1xuICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyO1xuICAgIH1cblxuICAgIHN1YnNjcmliZWRUbygpOiBDb21tYW5kIHtcbiAgICAgICAgcmV0dXJuIFVwZGF0ZUJhbGFuY2VDb21tYW5kO1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZShjb21tYW5kOiBVcGRhdGVCYWxhbmNlQ29tbWFuZCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBhY2NvdW50SWQgPSBuZXcgQWNjb3VudElkKGNvbW1hbmQuYWNjb3VudElkKSxcbiAgICAgICAgICAgIGFtb3VudCA9IG5ldyBBbW91bnQoY29tbWFuZC5hbW91bnQpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlci5ydW4oYWNjb3VudElkLCBhbW91bnQpO1xuICAgIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==